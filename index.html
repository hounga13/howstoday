<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>오늘 어때? - 매일매일 확인하는 내 운세</title>
    <meta name="description" content="가볍고 재미있게 확인하는 오늘의 운세. 여기어때 패러디, 오늘어때!">

    <!-- Open Graph & Twitter Card (카카오톡, 페이스북 공유 시 썸네일 노출용) -->
    <meta property="og:title" content="오늘 어때? - 나의 행운 점수 확인하기">
    <meta property="og:description" content="오늘 나의 금전운, 연애운, 직장운은 과연 몇 점일까? 지금 바로 확인해보세요! 🔮">
    <meta property="og:image" content="og_thumbnail.png">
    <meta property="og:url" content="https://hounga13.github.io/howstoday/">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="오늘 어때? - 나의 행운 점수 확인하기">
    <meta name="twitter:description" content="오늘 나의 금전운, 연애운, 직장운은 과연 몇 점일까? 지금 바로 확인해보세요! 🔮">
    <meta name="twitter:image" content="og_thumbnail.png">
    <link rel="stylesheet" as="style" crossorigin
        href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <link rel="stylesheet" href="style.css?v=8">

    <!-- Google Analytics (GA4) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-CJ4WH171BW"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-CJ4WH171BW');
    </script>
</head>

<body>
    <div id="app">
        <!-- 메인 화면 -->
        <main id="main-view" class="view active">
            <header>
                <img src="hero_fortune.png" alt="오늘의 운세 일러스트" class="hero-image">
                <h1 class="logo">오늘 <span>어때?</span></h1>
                <p class="subtitle">오늘 하루, 내 운세 어때? 🔮</p>
            </header>

            <section class="card-container">
                <form id="fortune-form">
                    <div class="input-group">
                        <label for="user-name">이름 (애칭)</label>
                        <input type="text" id="user-name" placeholder="이름을 입력해주세요" required>
                    </div>
                    <div class="input-group">
                        <label for="user-birth">생년월일</label>
                        <input type="date" id="user-birth" min="1900-01-01" max="2100-12-31" required>
                    </div>
                    <button type="submit" class="btn-primary">오늘의 운세 물어보기</button>
                </form>
            </section>

            <!-- 광고 영역 -->
            <section class="ad-area">
                <p class="ad-text">광고 배너 위치 (AdSense)</p>
            </section>
        </main>

        <!-- 결과 화면 (숨김) -->
        <main id="result-view" class="view hidden">
            <header>
                <h1 class="logo" style="font-size: 1.8rem; padding-bottom: 0;">오늘 <span>어때?</span></h1>
            </header>

            <div class="score-board">
                <h3 id="user-title" class="user-title">유저님,<br>오늘의 모드: <span class="highlight-meme">로딩중</span></h3>
                <img id="result-featured-image" src="" alt="오늘의 메인 운세" class="featured-image hidden">
                <h2>오늘의 행운 점수 <span id="total-score">95</span>점!</h2>
                <p id="total-summary" class="highlight-text">훌륭해✨</p>
            </div>

            <section class="result-cards">
                <div class="result-card" id="card-money">
                    <h3>💰 금전운 <span class="sub-score"><span id="money-score">0</span>점</span></h3>
                    <p id="money-luck">내용</p>
                </div>
                <div class="result-card" id="card-love">
                    <h3>💖 연애운 <span class="sub-score"><span id="love-score">0</span>점</span></h3>
                    <p id="love-luck">내용</p>
                </div>
                <div class="result-card" id="card-interpersonal">
                    <h3>🤝 대인운 <span class="sub-score"><span id="interpersonal-score">0</span>점</span></h3>
                    <p id="interpersonal-luck">내용</p>
                </div>
                <div class="result-card" id="card-work">
                    <h3>💼 학업/직장운 <span class="sub-score"><span id="work-score">0</span>점</span></h3>
                    <p id="work-luck">내용</p>
                </div>

                <!-- 초개인화 아이템 카드 -->
                <div class="result-card luck-items-card">
                    <h3>🍀 오늘의 행운 처방전</h3>
                    <ul class="luck-items-list">
                        <li><span>🎨 럭키 컬러</span> <strong id="lucky-color">-</strong></li>
                        <li><span>🔢 행운의 숫자</span> <strong id="lucky-number">-</strong></li>
                        <li><span>☕ 행운 아이템</span> <strong id="lucky-item">-</strong></li>
                        <li><span>🤝 행운의 귀인</span> <strong id="lucky-person">-</strong></li>
                    </ul>
                </div>
            </section>

            <!-- 하단 버튼 영역 -->
            <section class="action-buttons">
                <button type="button" class="btn-dark" id="btn-download">이미지로 결과 저장하기 📸</button>
                <button type="button" class="btn-kakao" id="btn-share" style="margin-top: 12px;">카카오톡으로 결과 공유하기</button>
                <button type="button" class="btn-secondary" id="btn-retry">광고 보고 다시하기 📺</button>
            </section>

            <section class="ad-area" style="margin-top: 16px;">
                <p class="ad-text">광고 배너 위치 (AdSense)</p>
            </section>
        </main>

        <!-- 광고 시청 모달 (가짜 광고) -->
        <div id="ad-modal" class="modal hidden">
            <div class="modal-content">
                <h3>스폰서 광고 시청 중... 📺</h3>
                <p>잠시만 기다려주세요! <br>남은 시간: <span id="ad-timer">3</span>초</p>
                <div class="fake-video-ad">
                    <p>내일의 행운은?<br>오늘 어때! 🔮</p>
                </div>
            </div>
        </div>
    </div>

    <!-- 폭죽 효과를 위한 canvas-confetti 라이브러리 -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <!-- 이미지 캡처용 html2canvas 라이브러리 -->
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <script src="script.js"></script>
</body>

</html>